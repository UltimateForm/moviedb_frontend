(this.webpackJsonpMovieDBFrontEnd=this.webpackJsonpMovieDBFrontEnd||[]).push([[0],{457:function(e,t,a){e.exports=a(703)},462:function(e,t,a){},703:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),c=a.n(o),i=(a(462),a(788)),l=a(787),s=a(174),u=a(47),m=a(209),d=a(43),f="https://api.themoviedb.org/3",g="b22e78df431ee4757d4dde2bbeeb75de",p=m.a.fetchJson,b={api_key:g};var h=function(e,t){if("movie"===e){var a=t.filter.search?"search":"discover";return"".concat(a,"/").concat(e)}return"movieGenre"===e?"genre/movie/list":e},v=function(e,t,a){return"movie"===e?{data:t.results,total:t.total_results}:"movieGenre"===e?{data:a.ids?t.genres.filter((function(e){return a.ids.includes(e.id)})):t.genres}:t},E={getList:function(e,t){var a=t.pagination,n=a.page,r=(a.perPage,t.sort),o=r.field,c=r.order;console.log(o,c);var i=Object(u.a)({sort_by:"".concat(o,".").concat(c.toLowerCase()),page:n,query:t.filter.search},function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r in t){var o=a?a+"."+r:r;"object"==typeof t[r]?e(t[r],o,n):n[o]=t[r]}return n}(t.filter),{},b),l="".concat(f,"/").concat(h(e,t),"?").concat(Object(d.stringify)(i));return p(l).then((function(t){t.headers;var a=t.json;return v(e,a)}))},getOne:function(e,t){var a=Object(u.a)({},b);return console.log("ugh"),p("".concat(f,"/").concat(e,"/").concat(t.id,"?").concat(Object(d.stringify)(a))).then((function(e){return{data:e.json}}))},getMany:function(e,t){var a=Object(u.a)({},b),n="".concat(f,"/").concat(h(e,t),"?").concat(Object(d.stringify)(a));return p(n).then((function(a){var n=a.json;return v(e,n,t)}))},getManyReference:function(e,t){var a=t.pagination,n=a.page,r=a.perPage,o=t.sort,c=o.field,i=o.order,l=Object(u.a)({sort:JSON.stringify([c,i]),range:JSON.stringify([(n-1)*r,n*r-1]),filter:JSON.stringify(Object(u.a)({},t.filter,Object(s.a)({},t.target,t.id)))},b),m="".concat(f,"/").concat(h(e,t),"?").concat(Object(d.stringify)(l));return p(m).then((function(t){t.headers;var a=t.json;return v(e,a)}))},update:function(e,t){var a=Object(u.a)({},b);return p("".concat(f,"/").concat(h(e,t),"/").concat(t.id,"?").concat(Object(d.stringify)(a)),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},updateMany:function(e,t){var a=Object(u.a)({filter:JSON.stringify({id:t.ids})},b);return p("".concat(f,"/").concat(h(e,t),"?").concat(Object(d.stringify)(a)),{method:"PUT",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))},create:function(e,t){var a=Object(u.a)({},b);return p("".concat(f,"/").concat(h(e,t),"?").concat(Object(d.stringify)(a)),{method:"POST",body:JSON.stringify(t.data)}).then((function(e){var a=e.json;return{data:Object(u.a)({},t.data,{id:a.id})}}))},delete:function(e,t){var a=Object(u.a)({},b);return p("".concat(f,"/").concat(h(e,t),"/").concat(t.id,"?").concat(Object(d.stringify)(a)),{method:"DELETE"}).then((function(e){return{data:e.json}}))},deleteMany:function(e,t){var a=Object(u.a)({filter:JSON.stringify({id:t.ids})},b);return p("".concat(f,"/").concat(h(e,t),"?").concat(Object(d.stringify)(a)),{method:"DELETE",body:JSON.stringify(t.data)}).then((function(e){return{data:e.json}}))}},y=a(391),O=a(789),j=a(790),w=a(779),x=a(780),k=a(797),S=a(798),_=a(782),N=a(783),P=a(792),J=a(796),M=a(768),T=function(e){return r.a.createElement(P.a,e,r.a.createElement(J.a,{label:"Search",source:"search",alwaysOn:!0}),r.a.createElement(J.a,{source:"language",alwaysOn:!1}),r.a.createElement(M.a,{source:"primary_release_year",alwaysOn:!1}))},C=a(28),W=a(769),B=a(143),D=a(802),A=a(30),L=a(48),G=(a(771),a(772),a(773),a(770),a(395),a(774),a(718),a(355),a(90),a(800),a(124),a(189),a(394),a(801),a(706),a(708),a(349)),I=(a(354),Object(B.a)({root:{margin:"1em",textAlign:"center",minWidth:"256px"},slider:{marginTop:"40px"}}),Object(B.a)({root:{margin:"1em",textAlign:"center"}}),Object(B.a)((function(e){return Object(D.a)({root:{display:"flex",marginTop:"-1em"},details:{display:"flex",flexDirection:"column"},misc_details:{display:"flex",flexWrap:"wrap"},data_field:{margin:"0.5em"},content:{flex:"1 0 auto"},cover:{width:"50%"}})}))),R=function(e){e.record,I(),Object(A.a)()},F=a(793),K=function(e){e.resource;var t=e.history,a=e.basePath;return console.log(e),r.a.createElement(C.b,{path:"".concat(a,"/:id/show")},(function(n){var o,c=n.match,i=null!==c&&c.path.endsWith("show");return r.a.createElement(W.a,{open:i,maxWidth:"md",onClose:function(){return t.push(a)}},i?r.a.createElement(F.a,Object.assign({},e,{id:null===c||void 0===c||null===(o=c.params)||void 0===o?void 0:o.id,component:"div"}),r.a.createElement(R,null)):null)}))},z=function(e){return r.a.createElement(y.a,Object.assign({rowsPerPageOptions:[]},e))},U=function(e){e.location,e.basePath,e.resource,e.history;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,Object.assign({},e,{bulkActionButtons:!1,pagination:r.a.createElement(z,null),sort:{field:"popularity",order:"DESC"},filters:r.a.createElement(T,null),perPage:20}),r.a.createElement(j.a,{rowClick:"show"},r.a.createElement(w.a,{source:"id"}),r.a.createElement(w.a,{source:"title"}),r.a.createElement(x.a,{source:"popularity"}),r.a.createElement(k.a,{source:"genre_ids",reference:"movieGenre"},r.a.createElement(S.a,null,r.a.createElement(_.a,{source:"name"}))),r.a.createElement(x.a,{source:"vote_average"}),r.a.createElement(w.a,{source:"overview"}),r.a.createElement(N.a,{source:"release_date"}))),r.a.createElement(K,e))},V=a(367),q={list:U,name:"movie",icon:a.n(V).a,options:{label:"Movies"}},$=a(171),H=a.n($),Q=a(784),X=a(396),Y=a(44),Z=Object(B.a)({paperRoot:{marginBottom:"1em",display:"flex",height:"100%",flexDirection:"column",textAlign:"center"},title:{margin:"0.25em"}}),ee=function(e){var t=Object(G.a)(),a=Z(),n="".concat(f).concat("/movie/top_rated","?api_key=").concat(g),o=H()(n,{method:"GET"},[]),c=o.loading,i=o.error,l=o.data;if(c)return r.a.createElement(Q.a,null);if(console.log(i),i&&i.name)return t(i.name,"error"),r.a.createElement("div",null,"An error occured ahah");var s=l.results.slice(0,10);return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a,{className:a.paperRoot},r.a.createElement(L.a,{className:a.title,variant:"body1",color:"textPrimary"},"Score x Movie"),r.a.createElement(Y.d,{width:"100%",height:400},r.a.createElement(Y.b,{data:s,margin:{top:5,right:20,left:10,bottom:5}},r.a.createElement(Y.f,{dataKey:"original_title",interval:0,tick:{fontSize:"10px",wordWrap:"ellipsis"},label:{value:"Title",position:"center",offset:900}}),r.a.createElement(Y.g,{label:{value:"Average Score",angle:-90,position:"center"}}),r.a.createElement(Y.e,null),r.a.createElement(Y.c,{stroke:"#f5f5f5"}),r.a.createElement(Y.a,{dataKey:"vote_average",fill:"#8884d8"})))),r.a.createElement(X.a,{className:a.paperRoot},r.a.createElement(L.a,{className:a.title,variant:"body1",color:"textPrimary"},"Vote Count x Movie"),r.a.createElement(Y.d,{width:"100%",height:400},r.a.createElement(Y.b,{width:720,height:360,data:s,margin:{top:5,right:20,left:10,bottom:5}},r.a.createElement(Y.f,{dataKey:"original_title",interval:0,tick:{fontSize:"10px",wordWrap:"ellipsis"},label:{value:"Title",position:"center",offset:900}}),r.a.createElement(Y.g,{label:{value:"Vote Count",angle:-90,position:"insideLeft"}}),r.a.createElement(Y.e,null),r.a.createElement(Y.c,{stroke:"#f5f5f5"}),r.a.createElement(Y.a,{dataKey:"vote_count",fill:"#8884d8"})))))},te=[r.a.createElement(C.b,{exact:!0,path:"/charts",component:ee})],ae=a(8),ne=a(704),re=a(389),oe=a(196),ce=a(377),ie=a.n(ce),le=function(e){var t=e.onMenuClick,a=(e.logout,Object(ne.a)((function(e){return e.breakpoints.down("xs")})),Object(ae.f)((function(e){return e.admin.ui.sidebarOpen}))),n=Object(ae.f)(re.b);return r.a.createElement("div",null,n.filter((function(e){return e.hasList})).map((function(e){return r.a.createElement(oe.a,{key:e.name,to:"/".concat(e.name),primaryText:e.options&&e.options.label||e.name,leftIcon:e.icon&&r.a.createElement(e.icon),onClick:t,sidebarIsOpen:a})})),r.a.createElement(oe.a,{to:"/charts",primaryText:"Charts",leftIcon:r.a.createElement(ie.a,null),onClick:t,sidebarIsOpen:a}))},se=a(392),ue=a(794),me=function(e){return r.a.createElement(se.a,Object.assign({},e,{userMenu:r.a.createElement("div",null)}))},de=function(e){return r.a.createElement(ue.a,Object.assign({},e,{appBar:me,menu:le}))},fe=function(){return r.a.createElement(i.a,{layout:de,customRoutes:te,dataProvider:E},r.a.createElement(l.a,q),r.a.createElement(l.a,{name:"movieGenre"}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[457,1,2]]]);
//# sourceMappingURL=main.ee39d55c.chunk.js.map