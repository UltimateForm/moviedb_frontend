{"version":3,"sources":["config.js","dataProvider/index.js","models/movies/ListFilters.tsx","components/RateMovieButton.tsx","components/RateMovieDialog.tsx","components/SessionValidator.tsx","models/movies/MovieDetails.tsx","models/movies/DetailsDialog.tsx","models/movies/List.tsx","models/movies/index.ts","charts/ChartsMain.tsx","customRoutes.tsx","layout/Menu.tsx","layout/Layout.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["API_ADDRESS","API_KEY","httpClient","fetchUtils","fetchJson","defaultQueryParams","api_key","starndardizeTMDBHorrendousRestResources","resource","params","method","filter","standardizeTMDBHorrendousRestResponses","json","data","results","total","total_results","ids","genres","record","includes","getList","pagination","page","perPage","sort","field","order","query","sort_by","toLowerCase","flattenObj","obj","parent","res","key","propName","url","stringify","then","headers","getOne","id","getMany","getManyReference","JSON","range","target","update","body","updateMany","create","delete","deleteMany","DiscoverMoviesFilter","props","Filter","TextInput","label","source","alwaysOn","NumberInput","Rater","React","useState","dialogOpen","setDialogOpen","Avatar","color","onClick","value","RateMovieDialog","open","handleClose","useStyles","makeStyles","root","margin","textAlign","minWidth","slider","marginTop","session_id","movie_id","movie_title","submit","saving","setSaving","notify","useNotify","classes","scoreRef","useRef","score","saveScore","a","fetch","current","response","status","className","Typography","gutterBottom","Slider","defaultValue","valueLabelDisplay","onChangeCommitted","event","onScoreChange","step","min","max","Button","disabled","startIcon","CircularProgress","size","variant","RaterDialog","Dialog","maxWidth","onClose","SessionValidator","Validator","children","waitingFocus","setWaitingFocus","loading","setLoading","undefined","requestToken","setRequestToken","window","sessionStorage","getItem","useMemo","url_request_token","response1","Promise","reject","statusText","json1","request_token","url_session_id","response2","console","error","status_message","setItem","resolve","useLayoutEffect","setWaitingFalse","addEventListener","removeEventListener","location","href","Children","map","child","cloneElement","Link","rel","theme","createStyles","display","details","flexDirection","misc_details","flexWrap","data_field","content","flex","cover","width","DataLabel","MiscDataField","format","Minutes2ReadableDuration","minutes","hours","rhours","Math","floor","rminutes","round","MovieDetails","useTheme","log","Card","CardMedia","component","image","title","CardHeader","subheader","avatar","RateMovieButton","action","IconButton","CardContent","length","genre","Chip","name","lang","toLocaleString","navigator","language","style","currency","ShowTitle","DetailsDrawer","history","basePath","path","routeProps","match","isMatch","endsWith","push","Show","ListPagination","Pagination","rowsPerPageOptions","MovieList","List","bulkActionButtons","filters","Datagrid","rowClick","TextField","NumberField","ReferenceArrayField","reference","SingleFieldList","ChipField","DateField","list","icon","MovieIcon","options","paperRoot","marginBottom","height","Chart","useFetch","Loading","top10RatedMovies","slice","Paper","top","right","left","bottom","dataKey","interval","tick","fontSize","wordWrap","position","offset","angle","stroke","fill","exact","ChartsMain","Menu","onMenuClick","logout","useMediaQuery","breakpoints","down","useSelector","state","admin","ui","sidebarOpen","resources","getResources","r","hasList","MenuItemLink","to","primaryText","leftIcon","createElement","sidebarIsOpen","CoolerAppbar","AppBar","userMenu","CoolerLayout","Layout","appBar","menu","App","Admin","layout","customRoutes","dataProvider","Resource","Movie","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.80e7a091.chunk.js","sourcesContent":["export const API_ADDRESS = \"https://api.themoviedb.org/3\";\r\nexport const API_KEY = \"b22e78df431ee4757d4dde2bbeeb75de\";\r\nexport const MOVIE_DB_IMAGE_PATH = \"https://image.tmdb.org/t/p/w600_and_h900_bestv2\";","import { fetchUtils } from 'react-admin';\r\nimport { stringify } from 'query-string';\r\nimport { API_ADDRESS,API_KEY } from \"../config\";\r\n\r\nconst httpClient = fetchUtils.fetchJson;\r\n\r\nconst defaultQueryParams = {\r\n\t//unsafe, consider package.json\r\n\t//MovieDB api key\r\n\tapi_key: API_KEY\r\n}\r\n\r\n///source https://stackoverflow.com/a/56253298\r\nfunction flattenObj(obj, parent, res = {}) {\r\n\tfor (let key in obj) {\r\n\t\tlet propName = parent ? parent + '.' + key : key;\r\n\t\tif (typeof obj[key] == 'object') {\r\n\t\t\tflattenObj(obj[key], propName, res);\r\n\t\t} else {\r\n\t\t\tres[propName] = obj[key];\r\n\t\t}\r\n\t}\r\n\treturn res;\r\n}\r\n\r\nconst starndardizeTMDBHorrendousRestResources = (resource, params) => {\r\n\tif (resource === \"movie\") {\r\n\t\tconst method = params.filter[\"search\"] ? \"search\" : \"discover\";\r\n\t\treturn `${method}/${resource}`\r\n\t}\r\n\tif (resource === \"movieGenre\") {\r\n\t\treturn \"genre/movie/list\"\r\n\t}\r\n\telse return resource;\r\n}\r\n\r\nconst standardizeTMDBHorrendousRestResponses = (resource, json,params) => {\r\n\tif (resource === \"movie\") {\r\n\t\treturn {\r\n\t\t\tdata: json.results,\r\n\t\t\t//total: parseInt(headers.get('content-range').split('/').pop(), 10),\r\n\t\t\ttotal: json.total_results,\r\n\t\t}\r\n\t}\r\n\tif (resource === \"movieGenre\") {\r\n\t\treturn {\r\n\t\t\tdata: params.ids? json.genres.filter(record=>params.ids.includes(record[\"id\"])):json.genres\r\n\t\t}\r\n\t}\r\n\telse return json;\r\n}\r\n\r\n//this needs to be changed, didnt think moviedb api would be like this haha\r\nexport default {\r\n\tgetList: (resource, params) => {\r\n\t\tconst { page, perPage } = params.pagination;\r\n\t\tconst { field, order } = params.sort;\r\n\t\tconst query = {\r\n\t\t\tsort_by: `${field}.${order.toLowerCase()}`,\r\n\t\t\tpage: page,\r\n\t\t\tquery: params.filter[\"search\"], //dirty? yes but i aint got time right now\r\n\t\t\t//filter: JSON.stringify(params.filter),\r\n\t\t\t...flattenObj(params.filter),\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\r\n\t\tconst url = `${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}?${stringify(query)}`;\r\n\r\n\t\treturn httpClient(url).then(({ headers, json }) => standardizeTMDBHorrendousRestResponses(resource,json));\r\n\t},\r\n\r\n\tgetOne: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\treturn httpClient(`${API_ADDRESS}/${resource}/${params.id}?${stringify(query)}`).then(({ json }) => ({data:json}));\r\n\t\t// return httpClient(`${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}/${params.id}?${stringify(query)}`).then(({ json }) => standardizeTMDBHorrendousRestResponses(resource,json));\r\n\t},\r\n\r\n\tgetMany: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\tconst url = `${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}?${stringify(query)}`;\r\n\t\treturn httpClient(url).then(({ json }) => {\r\n\t\t\treturn standardizeTMDBHorrendousRestResponses(resource, json,params);\r\n\t\t});\r\n\t},\r\n\tgetManyReference: (resource, params) => {\r\n\t\tconst { page, perPage } = params.pagination;\r\n\t\tconst { field, order } = params.sort;\r\n\t\tconst query = {\r\n\t\t\tsort: JSON.stringify([field, order]),\r\n\t\t\trange: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\r\n\t\t\tfilter: JSON.stringify({\r\n\t\t\t\t...params.filter,\r\n\t\t\t\t[params.target]: params.id,\r\n\t\t\t}),\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\tconst url = `${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}?${stringify(query)}`;\r\n\t\treturn httpClient(url).then(({ headers, json }) =>standardizeTMDBHorrendousRestResponses(resource,json));\r\n\t},\r\n\r\n\tupdate: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\treturn httpClient(`${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}/${params.id}?${stringify(query)}`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: JSON.stringify(params.data),\r\n\t\t}).then(({ json }) => ({ data: json }));\r\n\t},\r\n\r\n\tupdateMany: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\tfilter: JSON.stringify({ id: params.ids }),\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\treturn httpClient(`${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}?${stringify(query)}`, {\r\n\t\t\tmethod: 'PUT',\r\n\t\t\tbody: JSON.stringify(params.data),\r\n\t\t}).then(({ json }) => ({ data: json }));\r\n\t},\r\n\r\n\tcreate: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\treturn httpClient(`${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}?${stringify(query)}`, {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: JSON.stringify(params.data),\r\n\t\t}).then(({ json }) => ({\r\n\t\t\tdata: { ...params.data, id: json.id },\r\n\t\t}));\r\n\t},\r\n\r\n\tdelete: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\treturn httpClient(`${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}/${params.id}?${stringify(query)}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t}).then(({ json }) => ({ data: json }));\r\n\t},\r\n\r\n\tdeleteMany: (resource, params) => {\r\n\t\tconst query = {\r\n\t\t\tfilter: JSON.stringify({ id: params.ids }),\r\n\t\t\t...defaultQueryParams\r\n\t\t};\r\n\t\treturn httpClient(`${API_ADDRESS}/${starndardizeTMDBHorrendousRestResources(resource, params)}?${stringify(query)}`, {\r\n\t\t\tmethod: 'DELETE',\r\n\t\t\tbody: JSON.stringify(params.data),\r\n\t\t}).then(({ json }) => ({ data: json }));\r\n\t},\r\n};","import React from \"react\";\r\nimport {\r\n\tFilter,\r\n\tTextInput,\r\n\tNumberInput,\r\n\tBooleanInput,\r\n\tDateInput,\r\n} from \"react-admin\";\r\n\r\nexport const DiscoverMoviesFilter = (props: any) => {\r\n\treturn (\r\n\t\t<Filter {...props}>\r\n\t\t\t<TextInput label=\"Search\" source=\"search\" alwaysOn/>\r\n\t\t\t{/* <TextInput source=\"language\" alwaysOn={false}/>*/}\r\n\t\t\t<TextInput source=\"language\" alwaysOn={false} />\r\n\t\t\t{/* <NumberInput label=\"Year\" source=\"year\" alwaysOn={false} />*/}\r\n\t\t\t<NumberInput source=\"primary_release_year\" alwaysOn={false} />\r\n\r\n\t\t</Filter>\r\n\t);\r\n};\r\n","import React from \"react\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport { RateMovieDialog } from \".\";\r\n\r\nconst Rater: React.FC<any> = (props: any) => {\r\n\tconst { record } = props;\r\n\tconst [dialogOpen, setDialogOpen] = React.useState(false);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Avatar\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => {\r\n\t\t\t\t\tsetDialogOpen((value) => !value);\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{record[\"vote_average\"]}\r\n\t\t\t</Avatar>\r\n\t\t\t<RateMovieDialog record={record} open={dialogOpen} handleClose={()=>{setDialogOpen(false)}}/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Rater;\r\n","import React, { useMemo } from \"react\";\r\nimport {\r\n\tDialog,\r\n\tTextField,\r\n\tCircularProgress,\r\n\tmakeStyles,\r\n\tTypography,\r\n\tSlider,\r\n\tButton,\r\n} from \"@material-ui/core\";\r\nimport { showNotification, useNotify } from \"react-admin\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport { API_ADDRESS, API_KEY } from \"../config\";\r\nimport { SessionValidator } from \".\";\r\n\r\nconst useStyles = makeStyles({\r\n\troot: {\r\n\t\tmargin: \"1em\",\r\n\t\ttextAlign: \"center\",\r\n\t\tminWidth: \"256px\",\r\n\t},\r\n\tslider: {\r\n\t\tmarginTop: \"40px\",\r\n\t},\r\n});\r\n\r\n// /movie/{movie_id}/rating\r\nconst RaterDialog: React.FC<any> = (props: any) => {\r\n\tconst { open, handleClose, record, ...restPRops } = props;\r\n\treturn (\r\n\t\t<Dialog maxWidth=\"sm\" open={open} onClose={handleClose}>\r\n\t\t\t<SessionValidator>\r\n\t\t\t\t<Rater\r\n\t\t\t\t\tsubmit={handleClose}\r\n\t\t\t\t\tmovie_id={record[\"id\"]}\r\n\t\t\t\t\tmovie_title={record[\"original_title\"]}\r\n\t\t\t\t/>\r\n\t\t\t</SessionValidator>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\nconst Rater: React.FC<any> = (props: any) => {\r\n\tconst { session_id, movie_id, movie_title, submit } = props;\r\n\tconst [saving, setSaving] = React.useState(false);\r\n\tconst notify = useNotify();\r\n\tconst classes = useStyles();\r\n\tconst defaultValue = 5;\r\n\tconst scoreRef = React.useRef({ score: defaultValue }); //to avoid rerenders and other shenanigans\r\n\tconst onScoreChange = (value: number | number[]) => {\r\n\t\tscoreRef.current.score = value as number; //it is a number, its fine\r\n\t};\r\n\tconst saveScore = async () => {\r\n\t\tsetSaving(true);\r\n\t\tconst url = `${API_ADDRESS}/movie/${movie_id}/rating?api_key=${API_KEY}&session_id=${session_id}`;\r\n\t\tconst response = await fetch(url, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: { \"Content-Type\": \"application/json;charset=utf-8\" },\r\n\t\t\tbody: JSON.stringify({ value: scoreRef.current.score }),\r\n\t\t});\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tnotify(\"Error rating movie.\", \"error\");\r\n\t\t} else notify(\"Movie Rated!\");\r\n\t\tsetSaving(false);\r\n\t\tsubmit && submit();\r\n\t};\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t{/* could use a form here but not that serious*/}\r\n\t\t\t<Typography id=\"score-slider\" gutterBottom>\r\n\t\t\t\t{`Score ${movie_title}`}\r\n\t\t\t</Typography>\r\n\t\t\t<Slider\r\n\t\t\t\tclassName={classes.slider}\r\n\t\t\t\tdefaultValue={defaultValue}\r\n\t\t\t\tvalueLabelDisplay=\"on\"\r\n\t\t\t\tonChangeCommitted={(event, value) => onScoreChange(value)}\r\n\t\t\t\tstep={0.5}\r\n\t\t\t\tmin={0.5}\r\n\t\t\t\tmax={10}\r\n\t\t\t/>\r\n\t\t\t<Button\r\n\t\t\t\tdisabled={saving}\r\n\t\t\t\tstartIcon={\r\n\t\t\t\t\tsaving ? (\r\n\t\t\t\t\t\t<CircularProgress size={20} color=\"primary\" />\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<SaveIcon />\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tcolor=\"primary\"\r\n\t\t\t\tonClick={() => saveScore()}\r\n\t\t\t\tvariant=\"contained\"\r\n\t\t\t>\r\n\t\t\t\tSave\r\n\t\t\t</Button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RaterDialog;\r\n","import React from \"react\";\r\nimport {\r\n\tTypography,\r\n\tButton,\r\n\tmakeStyles,\r\n\tLink,\r\n\tCircularProgress,\r\n} from \"@material-ui/core\";\r\nimport { API_ADDRESS, API_KEY } from \"../config\";\r\n\r\nconst useStyles = makeStyles({\r\n\troot: {\r\n\t\tmargin: \"1em\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n});\r\n\r\n//https://www.themoviedb.org/authenticate/{REQUEST_TOKEN}?redirect_to=http://www.yourapp.com/approved\r\nconst validation_url = \"https://www.themoviedb.org/authenticate\";\r\nconst requestTokenRequestAddress = \"/authentication/token/new\";\r\nconst requestSessioAddress = \"/authentication/session/new\";\r\n\r\nconst Validator: React.FC<any> = (props: any) => {\r\n\tconst { children } = props;\r\n\tconst [waitingFocus, setWaitingFocus] = React.useState(false);\r\n\tconst [loading, setLoading] = React.useState(false);\r\n\tconst [requestToken, setRequestToken] = React.useState<string | undefined>(\r\n\t\tundefined\r\n\t);\r\n\tconst classes = useStyles();\r\n\tconst session_id = window.sessionStorage.getItem(\"session_id\");\r\n\r\n\t//spent too much on this, this is ugly but its the best approach rn\r\n\tReact.useMemo(async () => {\r\n\t\tif (waitingFocus || loading) return;\r\n\t\tif (window.sessionStorage.getItem(\"session_id\")) return;\r\n\t\tsetLoading(true);\r\n\t\tif (!requestToken) {\r\n\t\t\tconst url_request_token = `${API_ADDRESS}${requestTokenRequestAddress}?api_key=${API_KEY}`;\r\n\t\t\tconst response1 = await fetch(url_request_token, {\r\n\t\t\t\tmethod: \"GET\",\r\n\t\t\t\theaders: {\r\n\t\t\t\t\t\"cache-control\": \"no-cache\",\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t\tif (response1.status < 200 || response1.status >= 300) {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\treturn Promise.reject(\r\n\t\t\t\t\t\"useRequestToken error \" + response1.statusText\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tconst json1 = await response1.json();\r\n\t\t\tconst request_token = json1.request_token;\r\n\t\t\tsetRequestToken(request_token);\r\n\t\t}\r\n\r\n\t\tconst url_session_id = `${API_ADDRESS}${requestSessioAddress}?api_key=${API_KEY}&request_token=${requestToken}`;\r\n\t\tconst response2 = await fetch(url_session_id, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"cache-control\": \"no-cache\",\r\n\t\t\t},\r\n\t\t});\r\n\t\tif (response2.status < 200 || response2.status >= 300) {\r\n\t\t\tsetLoading(false);\r\n\t\t\treturn Promise.reject(response2.statusText);\r\n\t\t}\r\n\t\tconst json = await response2.json();\r\n\t\tif (!json.session_id) {\r\n\t\t\tconsole.error(\"useSession error\", response2.statusText);\r\n\t\t\tsetLoading(false);\r\n\t\t\treturn Promise.reject(json.status_message);\r\n\t\t}\r\n\t\twindow.sessionStorage.setItem(\"session_id\", json.session_id);\r\n\t\treturn Promise.resolve(json.session_id);\r\n\t}, [waitingFocus, session_id]);\r\n\r\n\tReact.useLayoutEffect(() => {\r\n\t\tconst setWaitingFalse = () => {\r\n\t\t\tsetWaitingFocus(false);\r\n\t\t};\r\n\t\twindow.addEventListener(\"focusin\", setWaitingFalse);\r\n\t\treturn () => {\r\n\t\t\twindow.removeEventListener(\"focusin\", setWaitingFalse);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst current_page = window.location.href; //this could be problematic, if it is, we can use react-router's thing coming from react-admin\r\n\r\n\tif (!session_id) {\r\n\t\treturn (\r\n\t\t\t<div className={classes.root}>\r\n\t\t\t\t<Typography variant=\"body1\" color=\"textPrimary\">\r\n\t\t\t\t\tTo score this movie you must validate your session at\r\n\t\t\t\t\tTheMovieDB first\r\n\t\t\t\t</Typography>\r\n\t\t\t\t{waitingFocus || loading ? (\r\n\t\t\t\t\t<CircularProgress color=\"primary\" />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Link\r\n\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\trel=\"noopener\"\r\n\t\t\t\t\t\thref={`${validation_url}/${requestToken}`} //redirect doesnt work of course, why would it work :)\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetWaitingFocus(true);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tValidate at TMBD\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{React.Children.map(children, (child) =>\r\n\t\t\t\tReact.cloneElement(child, {\r\n\t\t\t\t\t...child.props,\r\n\t\t\t\t\tsession_id:session_id\r\n\t\t\t\t})\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\nexport default Validator;\r\n","import React from \"react\";\r\nimport {\r\n\tTheme,\r\n\tcreateStyles,\r\n\tmakeStyles,\r\n\tuseTheme,\r\n} from \"@material-ui/core/styles\";\r\nimport {\r\n\tCard,\r\n\tCardContent,\r\n\tIconButton,\r\n\tCardMedia,\r\n\tTypography,\r\n\tCardHeader,\r\n\tLink,\r\n\tAvatar,\r\n\tChip,\r\n} from \"@material-ui/core\";\r\nimport OpenInNewIcon from \"@material-ui/icons/OpenInNew\";\r\nimport { MOVIE_DB_IMAGE_PATH } from \"../../config\";\r\nimport { useCreateRequestToken } from \"../../hooks\";\r\nimport { RateMovieButton } from \"../../components\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n\tcreateStyles({\r\n\t\troot: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tmarginTop: \"-1em\", //cancel React-Admin's obnoxious margin-top=1em\r\n\t\t},\r\n\t\tdetails: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexDirection: \"column\",\r\n\t\t},\r\n\t\tmisc_details: {\r\n\t\t\tdisplay: \"flex\",\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t},\r\n\t\tdata_field: {\r\n\t\t\tmargin: \"0.5em\",\r\n\t\t},\r\n\t\tcontent: {\r\n\t\t\tflex: \"1 0 auto\",\r\n\t\t},\r\n\t\tcover: {\r\n\t\t\twidth: \"50%\",\r\n\t\t},\r\n\t})\r\n);\r\n\r\nconst DataLabel: React.FC<any> = (props: any) => (\r\n\t<Typography variant=\"subtitle2\" color=\"textSecondary\">\r\n\t\t{props.label}\r\n\t</Typography>\r\n);\r\n\r\nconst MiscDataField: React.FC<any> = (props: any) => {\r\n\tconst { label, format, record, source } = props;\r\n\tconst classes = useStyles();\r\n\tlet value = record[source];\r\n\tif (value === undefined) return (<div></div>); //ugh\r\n\tvalue = format ? format(value) : value;\r\n\treturn (\r\n\t\t<div className={classes.data_field}>\r\n\t\t\t<DataLabel label={label} />\r\n\t\t\t<Typography variant=\"body1\">{value}</Typography>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\n///there are other ways but i dont have time\r\nconst Minutes2ReadableDuration = (minutes: number) => {\r\n\tvar num = minutes;\r\n\tvar hours = num / 60;\r\n\tvar rhours = Math.floor(hours);\r\n\tvar minutes = (hours - rhours) * 60;\r\n\tvar rminutes = Math.round(minutes);\r\n\treturn `${rhours}H:${rminutes}M`;\r\n};\r\n\r\nconst MovieDetails: React.FC<any> = (props: any) => {\r\n\tconst { record } = props;\r\n\tconst classes = useStyles();\r\n\tconst theme = useTheme();\r\n\tconsole.log(\"MovieDetails render\")\r\n\treturn (\r\n\t\t<Card className={classes.root}>\r\n\t\t\t<CardMedia\r\n\t\t\t\tclassName={classes.cover}\r\n\t\t\t\tcomponent=\"img\"\r\n\t\t\t\timage={`${MOVIE_DB_IMAGE_PATH}/${record[\"poster_path\"]}`}\r\n\t\t\t\ttitle=\"Movie Poster Image\"\r\n\t\t\t/>\r\n\t\t\t<div className={classes.details}>\r\n\t\t\t\t<CardHeader\r\n\t\t\t\t\ttitle={record[\"title\"]}\r\n\t\t\t\t\tsubheader={record[\"tagline\"]}\r\n\t\t\t\t\tavatar={<RateMovieButton record={record} />}\r\n\t\t\t\t\taction={\r\n\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\ttarget=\"_blank\"\r\n\t\t\t\t\t\t\trel=\"noopener\"\r\n\t\t\t\t\t\t\thref={record[\"homepage\"]} //could use react router but in a rush\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<IconButton color=\"primary\">\r\n\t\t\t\t\t\t\t\t<OpenInNewIcon />\r\n\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t}\r\n\t\t\t\t/>\r\n\t\t\t\t<CardContent className={classes.content}>\r\n\t\t\t\t\t<Typography variant=\"body1\">\r\n\t\t\t\t\t\t{record[\"overview\"]}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</CardContent>\r\n\t\t\t\t{record[\"genres\"] && record[\"genres\"].length > 0 && (\r\n\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<DataLabel label=\"Genres\" />\r\n\t\t\t\t\t\t\t{record[\"genres\"].map((genre: any) => (\r\n\t\t\t\t\t\t\t\t<Chip label={genre.name} />\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</CardContent>\r\n\t\t\t\t)}\r\n\t\t\t\t{record[\"spoken_languages\"] &&\r\n\t\t\t\t\trecord[\"spoken_languages\"].length > 0 && (\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<DataLabel label=\"Spoken Languages\" />\r\n\t\t\t\t\t\t\t\t{record[\"spoken_languages\"].map((lang: any) => (\r\n\t\t\t\t\t\t\t\t\t<Chip label={lang.name} />\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t)}{\" \"}\r\n\t\t\t\t{record[\"production_countries\"] &&\r\n\t\t\t\t\trecord[\"production_countries\"].length > 0 && (\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<DataLabel label=\"Production Countires\" />\r\n\t\t\t\t\t\t\t\t{record[\"production_countries\"].map(\r\n\t\t\t\t\t\t\t\t\t(lang: any) => (\r\n\t\t\t\t\t\t\t\t\t\t<Chip label={lang.name} />\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t)}\r\n\t\t\t\t{record[\"production_countries\"] &&\r\n\t\t\t\t\trecord[\"production_companies\"].length > 0 && (\r\n\t\t\t\t\t\t<CardContent>\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<DataLabel label=\"Production Companies\" />\r\n\t\t\t\t\t\t\t\t{record[\"production_companies\"].map(\r\n\t\t\t\t\t\t\t\t\t(lang: any) => (\r\n\t\t\t\t\t\t\t\t\t\t<Chip label={lang.name} />\r\n\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</CardContent>\r\n\t\t\t\t\t)}\r\n\t\t\t\t<CardContent className={classes.misc_details}>\r\n\t\t\t\t\t<MiscDataField\r\n\t\t\t\t\t\tlabel=\"Status\"\r\n\t\t\t\t\t\trecord={record}\r\n\t\t\t\t\t\tsource=\"status\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MiscDataField\r\n\t\t\t\t\t\tlabel=\"Release Date\"\r\n\t\t\t\t\t\trecord={record}\r\n\t\t\t\t\t\tsource=\"release_date\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MiscDataField\r\n\t\t\t\t\t\tlabel=\"Runtime\"\r\n\t\t\t\t\t\trecord={record}\r\n\t\t\t\t\t\tformat={Minutes2ReadableDuration}\r\n\t\t\t\t\t\tsource=\"runtime\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MiscDataField\r\n\t\t\t\t\t\tlabel=\"Budget\"\r\n\t\t\t\t\t\tsource=\"budget\"\r\n\t\t\t\t\t\trecord={record}\r\n\t\t\t\t\t\tformat={(value: number) =>\r\n\t\t\t\t\t\t\tvalue.toLocaleString(navigator.language, {\r\n\t\t\t\t\t\t\t\tstyle: \"currency\",\r\n\t\t\t\t\t\t\t\tcurrency: \"USD\",\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<MiscDataField\r\n\t\t\t\t\t\tlabel=\"Revenue\"\r\n\t\t\t\t\t\tsource=\"revenue\"\r\n\t\t\t\t\t\trecord={record}\r\n\t\t\t\t\t\tformat={(value: number) =>\r\n\t\t\t\t\t\t\tvalue.toLocaleString(navigator.language, {\r\n\t\t\t\t\t\t\t\tstyle: \"currency\",\r\n\t\t\t\t\t\t\t\tcurrency: \"USD\",\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</CardContent>\r\n\t\t\t</div>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default MovieDetails;\r\n","import React from \"react\";\r\nimport { Route } from \"react-router\";\r\nimport { Dialog } from \"@material-ui/core\";\r\nimport MovieDetails from \"./MovieDetails\";\r\nimport { Show } from \"react-admin\";\r\n\r\nconst ShowTitle:React.FC<any> = (props:any) => {\r\n    return <span>{props.record ? `: ${props.record[\"original_title\"]}` : ''}</span>;\r\n};\r\n\r\nconst DetailsDrawer: React.FC<any> = (props: any) => {\r\n\tconst { resource, history, basePath } = props;\r\n\tconsole.log(\"DetailsDrawer render\");\r\n\r\n\treturn (\r\n\t\t<Route path={`${basePath}/:id/show`}>\r\n\t\t\t{(routeProps) => {\r\n\t\t\t\tconst { match } = routeProps;\r\n\t\t\t\tconst isMatch: boolean =\r\n\t\t\t\t\tmatch !== null && match.path.endsWith(\"show\");\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<Dialog\r\n\t\t\t\t\t\topen={isMatch}\r\n\t\t\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\t\t\tonClose={() => history.push(basePath)}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isMatch ? (\r\n\t\t\t\t\t\t\t<Show\r\n\t\t\t\t\t\t\t\t{...props}\r\n\t\t\t\t\t\t\t\ttitle={<ShowTitle />}\r\n\t\t\t\t\t\t\t\tid={match?.params?.id}\r\n\t\t\t\t\t\t\t\tcomponent=\"div\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<MovieDetails />\r\n\t\t\t\t\t\t\t</Show>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div></div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</Dialog>\r\n\t\t\t\t);\r\n\t\t\t}}\r\n\t\t</Route>\r\n\t);\r\n};\r\n\r\nexport default DetailsDrawer;\r\n","import React from \"react\";\r\nimport {\r\n\tNumberField,\r\n\tBooleanField,\r\n\tTextField,\r\n\tReferenceArrayField,\r\n\tDateField,\r\n\tDatagrid,\r\n\tList,\r\n\tSingleFieldList,\r\n\tChipField,\r\n\tPagination\r\n} from \"react-admin\";\r\nimport { DiscoverMoviesFilter } from \"./ListFilters\";\r\nimport DetailsDrawer from \"./DetailsDialog\";\r\n\r\nconst ListPagination = (props:any) => <Pagination rowsPerPageOptions={[]} {...props} />;\r\n\r\n\r\nconst MovieList = (props: any) => {\r\n\tconst { location, basePath, resource, history } = props;\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<List {...props} bulkActionButtons={false}  pagination={<ListPagination />} sort={{ field: 'popularity', order: 'DESC' }} filters={<DiscoverMoviesFilter />} perPage={20}>\r\n\t\t\t\t<Datagrid rowClick=\"show\">\r\n\t\t\t\t\t<TextField source=\"id\" />\r\n\t\t\t\t\t<TextField source=\"title\" />\r\n\t\t\t\t\t<NumberField source=\"popularity\" />\r\n\r\n\t\t\t\t\t<ReferenceArrayField\r\n\t\t\t\t\t\tsource=\"genre_ids\"\r\n\t\t\t\t\t\treference=\"movieGenre\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SingleFieldList>\r\n\t\t\t\t\t\t\t<ChipField source=\"name\" />\r\n\t\t\t\t\t\t</SingleFieldList>\r\n\t\t\t\t\t</ReferenceArrayField>\r\n\t\t\t\t\t<NumberField source=\"vote_average\" />\r\n\t\t\t\t\t<TextField source=\"overview\" />\r\n\t\t\t\t\t<DateField source=\"release_date\" />\r\n\t\t\t\t</Datagrid>\r\n\t\t\t</List>\r\n\t\t\t<DetailsDrawer {...props}/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default MovieList;\r\n","import List from \"./List\";\r\nimport MovieIcon from '@material-ui/icons/Movie';\r\n\r\nexport default {\r\n\tlist:List,\r\n\tname:\"movie\",\r\n\ticon:MovieIcon,\r\n\toptions:{label:\"Movies\"}\r\n}","import React from \"react\";\r\nimport useFetch from \"use-http\";\r\nimport { API_ADDRESS, API_KEY } from \"../config\";\r\nimport { Loading, useNotify } from \"react-admin\";\r\nimport { Paper, makeStyles, Typography } from \"@material-ui/core\";\r\nimport {\r\n\tBarChart,\r\n\tXAxis,\r\n\tYAxis,\r\n\tCartesianGrid,\r\n\tLine,\r\n\tBar,\r\n\tTooltip,\r\n\tResponsiveContainer,\r\n} from \"recharts\";\r\nconst tmdbTopRatedUrl = \"/movie/top_rated\";\r\n\r\nconst useStyles = makeStyles({\r\n\tpaperRoot: {\r\n\t\tmarginBottom: \"1em\",\r\n\t\tdisplay: \"flex\",\r\n\t\theight: \"100%\",\r\n\t\tflexDirection: \"column\",\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\ttitle: {\r\n\t\tmargin: \"0.25em\",\r\n\t},\r\n});\r\nconst Chart: React.FC = (props: any) => {\r\n\tconst notify = useNotify();\r\n\tconst classes = useStyles();\r\n\tconst url = `${API_ADDRESS}${tmdbTopRatedUrl}?api_key=${API_KEY}`;\r\n\tconst { loading, error, data } = useFetch(url, { method: \"GET\" }, []);\r\n\tif (loading) {\r\n\t\treturn <Loading />;\r\n\t}\r\n\tif (error && error.name) {\r\n\t\tnotify(error.name, \"error\");\r\n\t\treturn <div>An error occured ahah</div>;\r\n\t}\r\n\tconst topRatedMovies: any[] = data.results;\r\n\tconst top10RatedMovies = topRatedMovies.slice(0, 10);\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Paper className={classes.paperRoot}>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t>\r\n\t\t\t\t\tScore x Movie\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<ResponsiveContainer width=\"100%\" height={400}>\r\n\t\t\t\t\t<BarChart\r\n\t\t\t\t\t\tdata={top10RatedMovies}\r\n\t\t\t\t\t\tmargin={{ top: 5, right: 20, left: 10, bottom: 5 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\tdataKey=\"original_title\"\r\n\t\t\t\t\t\t\tinterval={0}\r\n\t\t\t\t\t\t\ttick={{ fontSize: \"10px\", wordWrap: \"ellipsis\" }}\r\n\t\t\t\t\t\t\tlabel={{\r\n\t\t\t\t\t\t\t\tvalue: \"Title\",\r\n\t\t\t\t\t\t\t\tposition: \"center\",\r\n\t\t\t\t\t\t\t\toffset: 900,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<YAxis\r\n\t\t\t\t\t\t\tlabel={{\r\n\t\t\t\t\t\t\t\tvalue: \"Average Score\",\r\n\t\t\t\t\t\t\t\tangle: -90,\r\n\t\t\t\t\t\t\t\tposition: \"center\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Tooltip />\r\n\t\t\t\t\t\t<CartesianGrid stroke=\"#f5f5f5\" />\r\n\t\t\t\t\t\t<Bar dataKey=\"vote_average\" fill=\"#8884d8\" />\r\n\t\t\t\t\t</BarChart>\r\n\t\t\t\t</ResponsiveContainer>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper className={classes.paperRoot}>\r\n\t\t\t\t<Typography\r\n\t\t\t\t\tclassName={classes.title}\r\n\t\t\t\t\tvariant=\"body1\"\r\n\t\t\t\t\tcolor=\"textPrimary\"\r\n\t\t\t\t>\r\n\t\t\t\t\tVote Count x Movie\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<ResponsiveContainer width=\"100%\" height={400}>\r\n\t\t\t\t\t<BarChart\r\n\t\t\t\t\t\twidth={720}\r\n\t\t\t\t\t\theight={360}\r\n\t\t\t\t\t\tdata={top10RatedMovies}\r\n\t\t\t\t\t\tmargin={{ top: 5, right: 20, left: 10, bottom: 5 }}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<XAxis\r\n\t\t\t\t\t\t\tdataKey=\"original_title\"\r\n\t\t\t\t\t\t\tinterval={0}\r\n\t\t\t\t\t\t\ttick={{ fontSize: \"10px\", wordWrap: \"ellipsis\" }}\r\n\t\t\t\t\t\t\tlabel={{\r\n\t\t\t\t\t\t\t\tvalue: \"Title\",\r\n\t\t\t\t\t\t\t\tposition: \"center\",\r\n\t\t\t\t\t\t\t\toffset: 900,\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<YAxis\r\n\t\t\t\t\t\t\tlabel={{\r\n\t\t\t\t\t\t\t\tvalue: \"Vote Count\",\r\n\t\t\t\t\t\t\t\tangle: -90,\r\n\t\t\t\t\t\t\t\tposition: \"insideLeft\",\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<Tooltip />\r\n\t\t\t\t\t\t<CartesianGrid stroke=\"#f5f5f5\" />\r\n\t\t\t\t\t\t<Bar dataKey=\"vote_count\" fill=\"#8884d8\" />\r\n\t\t\t\t\t</BarChart>\r\n\t\t\t\t</ResponsiveContainer>\r\n\t\t\t</Paper>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Chart;\r\n","import React from 'react';\r\nimport { Route } from 'react-router-dom';\r\nimport { ChartsMain } from \"./charts\";\r\n\r\nexport default [\r\n    <Route exact path=\"/charts\" component={ChartsMain} />\r\n];","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { useMediaQuery, Theme } from '@material-ui/core';\r\nimport { MenuItemLink, getResources } from 'react-admin';\r\nimport { withRouter } from 'react-router-dom';\r\nimport InsertChartIcon from '@material-ui/icons/InsertChart';\r\n\r\nconst Menu:React.FC<any> = (props:any) => {\r\n\tconst { onMenuClick, logout } = props;\r\n    const isXSmall = useMediaQuery((theme:Theme) => theme.breakpoints.down('xs'));\r\n    const open = useSelector((state:any) => state.admin.ui.sidebarOpen); //i dont have their type at hand\r\n\tconst resources:any = useSelector(getResources);\r\n    return (\r\n        <div>\r\n            {resources.filter((r:any)=>r.hasList).map((resource:any) => (\r\n                <MenuItemLink\r\n                    key={resource.name}\r\n                    to={`/${resource.name}`}\r\n                    primaryText={resource.options && resource.options.label || resource.name}\r\n                    leftIcon={resource.icon&&React.createElement(resource.icon)}\r\n                    onClick={onMenuClick}\r\n                    sidebarIsOpen={open}\r\n                />\r\n            ))}\r\n            <MenuItemLink\r\n                to=\"/charts\"\r\n                primaryText=\"Charts\"\r\n                leftIcon={<InsertChartIcon />}\r\n                onClick={onMenuClick}\r\n                sidebarIsOpen={open}\r\n            />\r\n        </div>\r\n    );\r\n}\r\nexport default Menu;\r\n/* export default withRouter(Menu); */","import React from \"react\";\r\nimport { Layout,AppBar } from \"react-admin\";\r\nimport Menu from \"./Menu\";\r\n\r\nconst CoolerAppbar:React.FC<any> = (props:any) => <AppBar {...props} userMenu={<div />} />;\r\n\r\n\r\nconst CoolerLayout: any = (props: any) => (\r\n\t<Layout\r\n\t\t{...props}\r\n\t\tappBar={CoolerAppbar}\r\n\t\tmenu={Menu}\r\n\t/>\r\n);\r\n\r\nexport default CoolerLayout;\r\n","import React from \"react\";\nimport { Admin, Resource, } from \"react-admin\";\nimport dataProvider from \"./dataProvider\";\nimport Movie from \"./models/movies\";\nimport customRoutes from \"./customRoutes\";\nimport { Menu, Layout } from \"./layout\";\n\nconst App = () => (\n\t<Admin layout={Layout} customRoutes={customRoutes} dataProvider={dataProvider}>\n\t\t<Resource {...Movie} />\n\t\t<Resource name=\"movieGenre\" />\n\t</Admin>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}